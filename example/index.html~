<!doctype html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>Example DHIS2 App</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="css/leaflet.css" />
    <link rel="shortcut icon" href="../../favicon.ico" />

</head>
<script>
    /* this gets the web api url from the manifest file and makes it available as a Javascript variable */
    var xhReq = new XMLHttpRequest();
    xhReq.open("GET", "manifest.webapp", false);
    xhReq.send(null);
    var serverResponse = JSON.parse(xhReq.responseText);
    var dhisAPI = serverResponse.activities.dhis.href;
</script>
<body ng-app="searchOrgUnit">


<!-- Static navbar -->
<div class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="icon-bar"></span> <span class="icon-bar"></span> <span
                    class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">DHIS2 app</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <!--
                <li><a href="#/view1">/api/me</a></li>
                <li><a href="#/view2">System settings</a></li>
                removed unused tabs in the navbar.
            -->
                <li><a href="#/view3">A map</a></li>
                <li><a href="#/view4">Search organization units</a></li>
            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
</div>

<div class="col-sm-4">
  <div class="panel panel-default"  style="min-height: 643px;">
    
    <ul class="nav nav-tabs nav-justified">
      <li role="presentation" class="active" id="search-tab"><a href="" id="search-link">Search</a></li>
      <li role="presentation" id="new-tab"><a href="" id="new-link">New</a></li>
    </ul>
    <div class="panel-body" id="panel-body">

      <div class="form-group">
	<label for="sel1">Filter results:</label>
	<select class="form-control" id="sel1">
	  <option>Org unit</option>
	  <option>Org unit Group</option>
	  <option>Org unit Group Set</option>
	  <option>Org unit Level</option>
	</select>
      </div>
      
      <label class="control-label" for="search">Search:</label>
      <div class="form-group" id="search">
	<input type="string" ng-model="searchText" class="form-control" placeholder="Search for facility">
	<ul class="list-group" id="searchTextResults">
	  <li class="list-group-item"  ng-repeat="orgunit in orgunits | filter:searchText">
	    {{orgunit.name}}
	  </li>
	</ul>
      </div> <!-- form-group -->


      
    </div> <!-- panel-body -->
  </div> <!-- panel panel-default -->
</div>  <!-- col-sm-4 -->




<div class="container" ng-view></div>
<div class="search" ng-controller=MapController>

<div class="container">This app is based on the Angular Seed project and uses AngularJS. </div>
<div class="container">Click on "Search organization units to find an organization.</div>

<!-- In production use:
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
-->



<script src="lib/angular/angular.js"></script>
<script src="lib/angular/angular-route.js"></script>
<script src="lib/angular/angular-resource.js"></script>
<script src="js/leaflet.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>
<script src="js/angular-leaflet-directive.js"></script>

<!--<script type="text/javascript" src="http://cdn.jsdelivr.net/lodash/2.1.0/lodash.compat.min.js"></script>-->
<!--<script type="text/javascript" src="http://cdn.jsdelivr.net/restangular/latest/restangular.js"></script>-->
<!--<script type="text/javascript" src="js/restangular.js"></script>-->
<!--<script type="text/javascript" src="js/restangular.min.js"></script>-->
<script src="js/app.js"></script>
<script src="js/services.js"></script>
<script src="js/controllers.js"></script>
<script src="js/controllers/map_controller.js"></script>
<script src="js/filters.js"></script>
<script src="js/directives.js"></script>
<script src="js/directives/draggable_marker_content.js"></script>

<script src="js/jquery-1.10.1.min.js"></script>
<script src="js/jquery-migrate-1.2.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<!-- Get json-data of the organizations -->
<script src="js/org_controller.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?libraries=geometry&amp;sensor=false"></script>
<script src="js/Google.js"></script>

</body>
</html>
